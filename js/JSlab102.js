document.addEventListener('DOMContentLoaded', function() {
    /*
    your code will go here
    this is the event callback function that is called when the document content has been loaded
    we need our map container to be ready before dropping our map in, for example
    *this is new as js bin takes care of this for you
    */

    var map = L.map('map').setView([39.7073639, -104.94964], 11);

    L.tileLayer("https://api.mapbox.com/styles/v1/mwill521/ciwiqxnm500062qnxamn38h1w/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoibXdpbGw1MjEiLCJhIjoiY2l3aXFocWdvMDAwNTJ5cGl4cmFxaHJncSJ9.7gTnojeo33J8UVg8vXi3hA",
                {
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
        maxZoom: 18
    }).addTo(map);

    //function showLatLng(e) {
    //document.getElementById("whereIsThis").innerText = e.latlng.lat + " | " + e.latlng.lng;
    //document.getElementById("whereIsThis").innerText = (e.latlng.lat).toFixed(5) + " | " + (e.latlng.lng).toFixed(5);
    //}
    //map.on('mousemove', showLatLng);

    document.getElementById("goToFRCCBoulder").onclick = function(){
        map.setView([40.37585,  -105.51922], 13);
    };

    document.getElementById("goToRMNP").onclick = function(){
        map.setView([40.4, -105.8], 12);
    };

    document.getElementById("resetView").onclick = function(){
        map.setView([39.7073639, -104.94964], 11);
    };

    function onMapClick(e) {
        //alert("You clicked the map at " + e.latlng);
        var popup = L.popup()
        .setLatLng(e.latlng)
        //.setContent("I M " + e.latlng)
        .setContent("<center><img src='http://dev.brightrain.com/recreationer/images/icon-map-marker.png'></center><h4>" + e.latlng.lat.toFixed(5) + " | " + e.latlng.lng.toFixed(5) + "</h4>")
        .openOn(map);
    }

    map.on('click', onMapClick);

    var EstesWaterGeojson = {
        "type": "FeatureCollection",
        "features": [
            {
                "type": "Feature",
                "properties": {
                    "stroke": "#555555",
                    "stroke-width": 2,
                    "stroke-opacity": 1,
                    "FeatName": "Big Thompson River"
                },
                "geometry": {
                    "type": "LineString",
                    "coordinates": [
                        [
                            -105.55483818054199,
                            40.35975670309834
                        ],
                        [
                            -105.55458068847656,
                            40.35998561115664
                        ],
                        [
                            -105.55436611175537,
                            40.36027992037524
                        ],
                        [
                            -105.55380821228027,
                            40.3602472194144
                        ],
                        [
                            -105.5531644821167,
                            40.36021451843771
                        ],
                        [
                            -105.55166244506836,
                            40.359952910053046
                        ],
                        [
                            -105.55054664611816,
                            40.36001831224437
                        ],
                        [
                            -105.54994583129883,
                            40.36018181744513
                        ],
                        [
                            -105.54977416992188,
                            40.36090123561753
                        ],
                        [
                            -105.54955959320068,
                            40.36139174360616
                        ],
                        [
                            -105.54840087890625,
                            40.36162064611282
                        ],
                        [
                            -105.54762840270996,
                            40.36148984477562
                        ],
                        [
                            -105.54651260375975,
                            40.36234004893095
                        ],
                        [
                            -105.5459976196289,
                            40.36243814872043
                        ],
                        [
                            -105.5450963973999,
                            40.362536248367135
                        ],
                        [
                            -105.54436683654785,
                            40.361980348481545
                        ],
                        [
                            -105.5439805984497,
                            40.36230734896941
                        ],
                        [
                            -105.54355144500731,
                            40.362536248367135
                        ],
                        [
                            -105.54316520690918,
                            40.36269974746108
                        ],
                        [
                            -105.54260730743408,
                            40.36273244723227
                        ],
                        [
                            -105.54256439208983,
                            40.3630921436686
                        ],
                        [
                            -105.54222106933592,
                            40.36335373987133
                        ],
                        [
                            -105.54179191589355,
                            40.36374613227198
                        ],
                        [
                            -105.54149150848389,
                            40.363713432992505
                        ],
                        [
                            -105.54076194763184,
                            40.363549936357174
                        ],
                        [
                            -105.53990364074707,
                            40.36341913876339
                        ],
                        [
                            -105.53934574127197,
                            40.36345183818564
                        ],
                        [
                            -105.53861618041991,
                            40.3637788315356
                        ],
                        [
                            -105.53792953491211,
                            40.364073124194356
                        ],
                        [
                            -105.53762912750243,
                            40.364203920519174
                        ],
                        [
                            -105.5378007888794,
                            40.364498211322065
                        ],
                        [
                            -105.53775787353516,
                            40.364923295769074
                        ],
                        [
                            -105.53775787353516,
                            40.36518488486558
                        ],
                        [
                            -105.53771495819092,
                            40.36557726660686
                        ],
                        [
                            -105.53732872009276,
                            40.36577345662092
                        ],
                        [
                            -105.53689956665039,
                            40.36590424964641
                        ],
                        [
                            -105.53634166717528,
                            40.36590424964641
                        ],
                        [
                            -105.53552627563477,
                            40.365806154901094
                        ],
                        [
                            -105.53436756134032,
                            40.36623123109973
                        ],
                        [
                            -105.5336809158325,
                            40.36632932522642
                        ],
                        [
                            -105.53325176239014,
                            40.36639472123156
                        ],
                        [
                            -105.5335521697998,
                            40.366950584713514
                        ],
                        [
                            -105.53273677825928,
                            40.36717946834423
                        ],
                        [
                            -105.53187847137451,
                            40.3671467707303
                        ],
                        [
                            -105.53123474121094,
                            40.367277561090894
                        ],
                        [
                            -105.53071975708006,
                            40.36763723327389
                        ],
                        [
                            -105.52986145019531,
                            40.36793150908693
                        ],
                        [
                            -105.53003311157227,
                            40.368225783615074
                        ],
                        [
                            -105.52981853485107,
                            40.3686508445541
                        ],
                        [
                            -105.5291748046875,
                            40.368977812683
                        ],
                        [
                            -105.52870273590088,
                            40.369500958389814
                        ],
                        [
                            -105.5288314819336,
                            40.369958707552115
                        ],
                        [
                            -105.52900314331055,
                            40.370351061502404
                        ],
                        [
                            -105.52865982055664,
                            40.37080880489071
                        ],
                        [
                            -105.5282735824585,
                            40.37097228391876
                        ],
                        [
                            -105.52814483642578,
                            40.37139732753577
                        ],
                        [
                            -105.52724361419678,
                            40.37178967311054
                        ],
                        [
                            -105.52694320678711,
                            40.371985845041316
                        ],
                        [
                            -105.52591323852539,
                            40.37224740672739
                        ],
                        [
                            -105.52539825439453,
                            40.372149321214074
                        ],
                        [
                            -105.52484035491943,
                            40.371953149759186
                        ],
                        [
                            -105.52436828613281,
                            40.37178967311054
                        ],
                        [
                            -105.52398204803467,
                            40.37178967311054
                        ],
                        [
                            -105.52363872528076,
                            40.37178967311054
                        ],
                        [
                            -105.5233383178711,
                            40.371528109647834
                        ],
                        [
                            -105.52265167236328,
                            40.37172428234003
                        ],
                        [
                            -105.5225658416748,
                            40.37234549209791
                        ],
                        [
                            -105.522780418396,
                            40.3727051372351
                        ],
                        [
                            -105.5225658416748,
                            40.373751366720505
                        ],
                        [
                            -105.52187919616699,
                            40.3753533741399
                        ],
                        [
                            -105.52072048187256,
                            40.375778390123635
                        ],
                        [
                            -105.5176305770874,
                            40.37702072916623
                        ],
                        [
                            -105.51660060882567,
                            40.3774784272498
                        ],
                        [
                            -105.51514148712158,
                            40.37806689164575
                        ],
                        [
                            -105.51454067230225,
                            40.378426506246385
                        ],
                        [
                            -105.51321029663086,
                            40.3786226588559
                        ],
                        [
                            -105.5121374130249,
                            40.37872073494648
                        ],
                        [
                            -105.51093578338623,
                            40.37908034605718
                        ],
                        [
                            -105.50896167755127,
                            40.379243805018405
                        ],
                        [
                            -105.5077600479126,
                            40.37921111325789
                        ],
                        [
                            -105.50703048706053,
                            40.379243805018405
                        ],
                        [
                            -105.50621509552002,
                            40.378688042932154
                        ],
                        [
                            -105.50544261932373,
                            40.378426506246385
                        ],
                        [
                            -105.5042839050293,
                            40.37845919838763
                        ],
                        [
                            -105.5033826828003,
                            40.37793612222415
                        ]
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "stroke": "#555555",
                    "stroke-width": 2,
                    "stroke-opacity": 1,
                    "fill": "#a80f02",
                    "fill-opacity": 1,
                    "FeatName": "Lake Estes"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [
                                -105.50994873046875,
                                40.376988036327006
                            ],
                            [
                                -105.50939083099365,
                                40.37682457189288
                            ],
                            [
                                -105.50926208496094,
                                40.377249578596654
                            ],
                            [
                                -105.50750255584717,
                                40.376988036327006
                            ],
                            [
                                -105.5068588256836,
                                40.37728227130897
                            ],
                            [
                                -105.50467014312744,
                                40.376857264811456
                            ],
                            [
                                -105.50325393676758,
                                40.37653033491213
                            ],
                            [
                                -105.50303936004639,
                                40.376072630388094
                            ],
                            [
                                -105.50265312194824,
                                40.3758110835498
                            ],
                            [
                                -105.50179481506346,
                                40.375614922754856
                            ],
                            [
                                -105.50089359283447,
                                40.3757456966816
                            ],
                            [
                                -105.49986362457275,
                                40.37564761626033
                            ],
                            [
                                -105.49926280975342,
                                40.37515721201243
                            ],
                            [
                                -105.49861907958984,
                                40.37473219211048
                            ],
                            [
                                -105.49771785736084,
                                40.373947532940626
                            ],
                            [
                                -105.49690246582031,
                                40.37339172716707
                            ],
                            [
                                -105.49578666687012,
                                40.372999390919695
                            ],
                            [
                                -105.49497127532959,
                                40.373032085694206
                            ],
                            [
                                -105.49479961395264,
                                40.3727378321524
                            ],
                            [
                                -105.4948854446411,
                                40.37257435740728
                            ],
                            [
                                -105.49437046051025,
                                40.37224740672739
                            ],
                            [
                                -105.49334049224854,
                                40.372116626011255
                            ],
                            [
                                -105.49286842346191,
                                40.37185506381759
                            ],
                            [
                                -105.49295425415039,
                                40.37113576255027
                            ],
                            [
                                -105.49398422241211,
                                40.370089492456025
                            ],
                            [
                                -105.49415588378906,
                                40.3694028688791
                            ],
                            [
                                -105.49376964569092,
                                40.36956635131763
                            ],
                            [
                                -105.49325466156004,
                                40.36982792239443
                            ],
                            [
                                -105.49248218536377,
                                40.37051454164086
                            ],
                            [
                                -105.49201011657715,
                                40.37162619606532
                            ],
                            [
                                -105.49222469329834,
                                40.373064780452864
                            ],
                            [
                                -105.49222469329834,
                                40.37352250540857
                            ],
                            [
                                -105.49110889434814,
                                40.373947532940626
                            ],
                            [
                                -105.4901647567749,
                                40.37424178120009
                            ],
                            [
                                -105.48956394195557,
                                40.37424178120009
                            ],
                            [
                                -105.48840522766113,
                                40.37453602817463
                            ],
                            [
                                -105.48771858215332,
                                40.375026436943514
                            ],
                            [
                                -105.48789024353027,
                                40.375680309749946
                            ],
                            [
                                -105.48857688903809,
                                40.37702072916623
                            ],
                            [
                                -105.4892635345459,
                                40.37816496854536
                            ],
                            [
                                -105.48952102661133,
                                40.37845919838763
                            ],
                            [
                                -105.49020767211914,
                                40.3786226588559
                            ],
                            [
                                -105.49089431762695,
                                40.37865535090195
                            ],
                            [
                                -105.49162387847899,
                                40.37849189051302
                            ],
                            [
                                -105.49188137054443,
                                40.37836112191633
                            ],
                            [
                                -105.49175262451172,
                                40.37806689164575
                            ],
                            [
                                -105.49196720123291,
                                40.37777266009024
                            ],
                            [
                                -105.49243927001953,
                                40.377445734632644
                            ],
                            [
                                -105.49342632293701,
                                40.377249578596654
                            ],
                            [
                                -105.4938554763794,
                                40.37734765668605
                            ],
                            [
                                -105.4941987991333,
                                40.37751111985107
                            ],
                            [
                                -105.49471378326416,
                                40.377739967615874
                            ],
                            [
                                -105.49527168273926,
                                40.37751111985107
                            ],
                            [
                                -105.49595832824707,
                                40.37734765668605
                            ],
                            [
                                -105.4967737197876,
                                40.3774784272498
                            ],
                            [
                                -105.49741744995117,
                                40.37760919755974
                            ],
                            [
                                -105.49801826477051,
                                40.377739967615874
                            ],
                            [
                                -105.49896240234375,
                                40.37787073741818
                            ],
                            [
                                -105.4994773864746,
                                40.377903429829104
                            ],
                            [
                                -105.49986362457275,
                                40.37793612222415
                            ],
                            [
                                -105.50119400024414,
                                40.37836112191633
                            ],
                            [
                                -105.5020523071289,
                                40.37845919838763
                            ],
                            [
                                -105.50256729125977,
                                40.378230353065796
                            ],
                            [
                                -105.5028247833252,
                                40.37793612222415
                            ],
                            [
                                -105.50321102142334,
                                40.37816496854536
                            ],
                            [
                                -105.50355434417725,
                                40.37836112191633
                            ],
                            [
                                -105.50342559814452,
                                40.37787073741818
                            ],
                            [
                                -105.5033826828003,
                                40.37738034935078
                            ],
                            [
                                -105.50364017486572,
                                40.37738034935078
                            ],
                            [
                                -105.50376892089842,
                                40.37780535254874
                            ],
                            [
                                -105.50394058227539,
                                40.37819766081352
                            ],
                            [
                                -105.50454139709473,
                                40.37806689164575
                            ],
                            [
                                -105.50505638122557,
                                40.378230353065796
                            ],
                            [
                                -105.50587177276611,
                                40.37839381408929
                            ],
                            [
                                -105.50638675689696,
                                40.378557274716165
                            ],
                            [
                                -105.50724506378174,
                                40.3786226588559
                            ],
                            [
                                -105.50758838653564,
                                40.378524582622525
                            ],
                            [
                                -105.50758838653564,
                                40.378328429727475
                            ],
                            [
                                -105.50784587860107,
                                40.378426506246385
                            ],
                            [
                                -105.50797462463379,
                                40.37836112191633
                            ],
                            [
                                -105.50737380981444,
                                40.37796881460335
                            ],
                            [
                                -105.5081033706665,
                                40.3778380449914
                            ],
                            [
                                -105.50823211669922,
                                40.37800150696667
                            ],
                            [
                                -105.50853252410889,
                                40.37796881460335
                            ],
                            [
                                -105.50844669342041,
                                40.37767458261953
                            ],
                            [
                                -105.50896167755127,
                                40.37757650500605
                            ],
                            [
                                -105.50930500030518,
                                40.37757650500605
                            ],
                            [
                                -105.50964832305908,
                                40.377445734632644
                            ],
                            [
                                -105.50994873046875,
                                40.376988036327006
                            ]
                        ]
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "marker-color": "#7e7e7e",
                    "marker-size": "medium",
                    "marker-symbol": "",
                    "WorkArea": "1a33edasdafd"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        -105.55393695831299,
                        40.36027992037524
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "marker-color": "#7e7e7e",
                    "marker-size": "medium",
                    "marker-symbol": "",
                    "WorkArea": "33sdfgsdg"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        -105.5418348312378,
                        40.36390962843144
                    ]
                }
            },
            {
                "type": "Feature",
                "properties": {
                    "marker-color": "#7e7e7e",
                    "marker-size": "medium",
                    "marker-symbol": "",
                    "WorkArea": "FC33adrgdfsh"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [
                        -105.52119255065917,
                        40.37571300322371
                    ]
                }
            }
        ]
    }
    L.geoJSON(EstesWaterGeojson).addTo(map);  



});